(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,n){e.exports=n(73)},48:function(e,t,n){},49:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(33),c=n.n(i),o=n(2),u=n(3),s=n(5),l=n(4),m=n(6),h=n(76),d=n(10),p=n(77),f=n(74),b=n(78),g=n(1),O=n.n(g),v=O.a.shape({url:O.a.string,width:O.a.string,height:O.a.string,size:O.a.string,mp4:O.a.string,mp4_size:O.a.string,webp:O.a.string,webp_size:O.a.string}),y=O.a.shape({fixed_height_still:v,original_still:v,fixed_width:v,fixed_height_small_still:v,fixed_height_downsampled:v,preview:v,fixed_height_small:v,downsized_still:v,downsized:v,downsized_large:v,fixed_width_small_still:v,preview_webp:v,fixed_width_still:v,fixed_width_small:v,downsized_small:v,fixed_width_downsampled:v,downsized_medium:v,original:v,fixed_height:v,looping:v,original_mp4:v,preview_gif:v}),E=(O.a.shape({title:O.a.string,_score:O.a.number,type:O.a.string,id:O.a.string,slug:O.a.string,url:O.a.string,bitly_gif_url:O.a.string,bitly_url:O.a.string,embed_url:O.a.string,username:O.a.string,source:O.a.string,rating:O.a.string,content_url:O.a.string,source_tld:O.a.string,source_post_url:O.a.string,is_sticker:O.a.number,import_datetime:O.a.string,trending_datetime:O.a.string,images:y}),n(48),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.item;return r.a.createElement("div",{className:"w-100 mb-3 search-item"},r.a.createElement("a",{href:e.url},r.a.createElement("img",{className:"w-100",border:"0",src:e.images.fixed_width.url,alt:e.title,title:e.title})))}}]),t}(r.a.Component)),j=(n(49),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"spinner-container text-center"},r.a.createElement("div",{className:"spinner"}))}}]),t}(r.a.Component)),_=n(18),S={xl:{id:"xl",mediaQuery:"(min-width: 1200px)"},lg:{id:"lg",mediaQuery:"(max-width: 1200px) and (min-width: 960px)"},md:{id:"md",mediaQuery:"(max-width: 950px) and (min-width: 720px)"},sm:{id:"sm",mediaQuery:"(max-width: 720px) and (min-width: 540px)"},xs:{id:"xs",mediaQuery:"(max-width: 540px)"}},C=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"screenSizeToColumns",value:function(e){switch(e){case S.xs.id:return 1;case S.sm.id:case S.md.id:return 3;case S.lg.id:case S.xl.id:return 4;default:return 3}}},{key:"choseColumnsNum",value:function(e,t){return t||e}}]),e}(),R=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.columnsNum,a=e.renderItem,i=new Array(n).fill(0),c=new Array(n).fill(null).map(function(){return[]});t.forEach(function(e){var t=i.indexOf(Math.min.apply(Math,Object(_.a)(i)));i[t]+=e.height,c[t].push(e.content)});var o=c.map(function(e,t){var i="col-".concat(12/n),c=e.map(function(e,t){return a(e,t)});return r.a.createElement("div",{className:i,key:t},c)});return r.a.createElement("div",{className:"row"},o)}}]),t}(r.a.Component);R.defaultProps={items:[]};var w=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).renderSearchItem=function(e){return r.a.createElement(E,{item:e,key:e.id})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.searchItems,n=e.isLoading,a=e.columnsNum;if(n)return r.a.createElement(j,null);var i=t.map(function(e){return{height:parseInt(e.images.fixed_width.height,10),content:e}});return r.a.createElement("div",{className:"mb-3"},r.a.createElement(R,{items:i,renderItem:this.renderSearchItem,columnsNum:a}))}}]),t}(r.a.Component);w.defaultProps={searchItems:[],isLoading:!1,columnsNum:3};var N=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onScroll=function(){var e=n.props,t=e.activationDistance,a=e.onFetchMore,r=document.body.offsetHeight;window.innerHeight+window.scrollY+t>=r&&a()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",null,e)}}]),t}(r.a.Component);N.defaultProps={onFetchMore:function(){},activationDistance:50};var A=n(8),M=n(35),k=n.n(M),P=Object(A.a)({},Object({NODE_ENV:"production",PUBLIC_URL:"/giphygram",REACT_APP_BASE_URL:"/giphygram",REACT_APP_GIPHY_API_KEY:"CdRKiCMbTnt9CkZTZ0lGukSczk6iT4Z6",REACT_APP_GIPHY_API_HOST:"https://api.giphy.com"})),T=P.REACT_APP_BASE_URL,x=P.REACT_APP_GIPHY_API_KEY,H=P.REACT_APP_GIPHY_API_HOST,Q=P.HTTP_REQUEST_TIMEOUT,U=30,L=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k.a.get(e,Object(A.a)({},this.getDefaultAxiosConfig(),{params:t}))}},{key:"getDefaultAxiosConfig",value:function(){return{timeout:Q}}}]),e}(),I={UPDATE_SEARCH_QUERY:"UPDATE_SEARCH_QUERY",UPDATE_SEARCH_OFFSET:"UPDATE_SEARCH_OFFSET"};function F(e){return{type:I.UPDATE_SEARCH_QUERY,payload:e}}var q={query:"",limit:U,offset:0,rating:"G",lang:"en"},D=function(e){return e.searchParams},z=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=void 0===t?q.query:t,a=e.limit,r=void 0===a?q.limit:a,i=e.offset,c=void 0===i?q.offset:i,o=e.rating,u=void 0===o?q.rating:o,s=e.lang,l={api_key:x,q:n,limit:r,offset:c,rating:u,lang:void 0===s?q.lang:s};return L.get("".concat(H,"/v1/gifs/search"),l)}}]),e}(),Y=n(13),G={data:[],pagination:{},meta:{},isLoading:!1,isFetchingMore:!1,error:null},Z=function(e){return e.searchResults},B={SEARCH:"SEARCH",SEARCH_MORE:"SEARCH_MORE",SEARCH_RESET:"SEARCH_RESET"};function K(e){return{type:B.SEARCH,payload:z.search(e)}}var J={RESIZE:"RESIZE",SET_COLUMNS_NUM:"SET_COLUMNS_NUM"};var V={size:null,manualColumnsNum:null},X=function(e){return e.layout},W=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onFetchMore=function(){var e=n.props,t=e.isFetchingMore,a=e.isLoading,r=e.searchMore;t||a||r()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.searchItems,n=e.isLoading,a=e.isFetchingMore,i=e.columnsNum,c=a?r.a.createElement(j,null):null;return r.a.createElement(N,{onFetchMore:this.onFetchMore},r.a.createElement(w,{searchItems:t,isLoading:n,columnsNum:i}),c)}}]),t}(r.a.Component);W.defaultProps={searchItems:[],isLoading:!1,isFetchingMore:!1,columnsNum:3};var $={searchMore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;return function(t,n){var a=n(),r=Z(a),i=r.pagination,c=void 0===i?{}:i,o=r.isFetchingMore,u=r.isLoading,s=c.total_count||0;if(o||u)return null;var l=D(a),m=l.offset+e;return l.offset=m,m>=s?null:(t(function(e){return{type:I.UPDATE_SEARCH_OFFSET,payload:e}}(m)),t({type:B.SEARCH_MORE,payload:z.search(l)}),null)}}},ee=Object(d.b)(function(e){var t=Z(e),n=X(e),a=C.screenSizeToColumns(n.size),r=C.choseColumnsNum(a,n.manualColumnsNum);return{searchItems:t.data||[],isLoading:t.isLoading||!1,isFetchingMore:t.isFetchingMore||!1,columnsNum:r}},$)(W),te=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.total;return null===e?null:r.a.createElement("div",{className:"mb-3"},r.a.createElement("small",null,"Total results: \xa0",r.a.createElement("span",{className:"badge badge-dark"},e)))}}]),t}(r.a.Component);te.defaultProps={total:null};var ne=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.total;return r.a.createElement(te,{total:e})}}]),t}(r.a.Component);ne.defaultProps={total:null};var ae=Object(d.b)(function(e){var t=Z(e),n=null;return!1===t.isLoading&&t.pagination&&Object.prototype.hasOwnProperty.call(t.pagination,"total_count")&&(n=t.pagination.total_count),{total:n}})(ne),re=(n(68),[{columns:1,title:"Show in 1 column",icon:"oi oi-list"},{columns:3,title:"Show in 3 columns",icon:"oi oi-grid-three-up"},{columns:4,title:"Show in 4 columns",icon:"oi oi-grid-four-up"}]),ie=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onButtonClick=function(e){(0,n.props.onColumnsNumChange)(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.columnsNum,n=re.map(function(n){var a=n.columns===t?"btn btn-dark tab-selector-button":"btn btn-light tab-selector-button";return r.a.createElement("button",{key:"button_".concat(n.columns),type:"button",className:a,onClick:function(){return e.onButtonClick(n.columns)},title:n.title},r.a.createElement("span",{className:n.icon}))});return r.a.createElement("div",{className:"btn-group btn-group-sm mb-3"},n)}}]),t}(r.a.Component),ce=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onColumnsNumChange=function(e){(0,n.props.setColumnsNum)(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.columnsNum,n=e.isHidden;return!t||n?null:r.a.createElement(ie,{columnsNum:t,onColumnsNumChange:this.onColumnsNumChange})}}]),t}(r.a.Component);ce.defaultProps={columnsNum:3};var oe={setColumnsNum:function(e){return{type:J.SET_COLUMNS_NUM,payload:e}}},ue=Object(d.b)(function(e){var t=X(e),n=Z(e),a=C.screenSizeToColumns(t.size),r=C.choseColumnsNum(a,t.manualColumnsNum),i=!0;return!1===n.isLoading&&n.pagination&&Object.prototype.hasOwnProperty.call(n.pagination,"total_count")&&n.pagination.total_count&&(i=!1),{columnsNum:r,isHidden:i}},oe)(ce),se=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement(ae,null)),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement(ue,null))),r.a.createElement(ee,null))}}]),t}(r.a.Component),le=function(){function e(t,n){Object(o.a)(this,e),this.history=t,this.location=n}return Object(u.a)(e,[{key:"pushSearchQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.history.push({search:e?"?".concat("query","=").concat(e):""})}},{key:"getSearchQuery",value:function(){return new URLSearchParams(this.location.search).get("query")}}]),e}(),me=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.routerService,n=e.updateSearchQuery,a=e.search,r=t.getSearchQuery();r&&(n(r),a({query:r}))}},{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(f.a,{path:"/",component:se}))}}]),t}(r.a.Component),he={updateSearchQuery:F,search:K},de=Object(b.a)(Object(d.b)(function(e,t){return{routerService:new le(t.history,t.location)}},he)(me)),pe=n(75),fe=(n(70),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onQueryChange=function(e){(0,n.props.onSearchUpdate)(e.target.value)},n.onSearchSubmit=function(e){e.preventDefault();var t=n.props,a=t.onSearchSubmit,r=t.query;r&&a(r)},n.onSearchReset=function(e){e.preventDefault(),(0,n.props.onSearchReset)()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.query,t=e&&e.length?r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-light search-reset",type:"button",onClick:this.onSearchReset,title:"Reset search"},r.a.createElement("span",{className:"oi oi-x"}))):null;return r.a.createElement("form",{className:"form",onSubmit:this.onSearchSubmit},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{className:"form-control search-input",type:"search",placeholder:"Search for GIFs",value:e,onChange:this.onQueryChange,spellCheck:!1,autoCapitalize:"off",autoComplete:"off",maxLength:512}),t,r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-dark search-submit",type:"submit",onClick:this.onSearchSubmit,title:"Search"},r.a.createElement("span",{className:"oi oi-magnifying-glass"})))))}}]),t}(r.a.Component));fe.defaultProps={query:"",onSearchSubmit:function(){},onSearchUpdate:function(){},onSearchReset:function(){}};var be=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onSearchSubmit=function(e){var t=n.props,a=t.search,r=t.routerService;a({query:e}),r.pushSearchQuery(e)},n.onSearchUpdate=function(e){(0,n.props.updateSearchQuery)(e)},n.onSearchReset=function(){var e=n.props,t=e.searchReset,a=e.routerService;t(),a.pushSearchQuery()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.query;return r.a.createElement(fe,{query:e,onSearchSubmit:this.onSearchSubmit,onSearchUpdate:this.onSearchUpdate,onSearchReset:this.onSearchReset})}}]),t}(r.a.Component);be.defaultProps={query:""};var ge={search:K,searchReset:function(){return{type:B.SEARCH_RESET,payload:null}},updateSearchQuery:F},Oe=Object(b.a)(Object(d.b)(function(e,t){return{routerService:new le(t.history,t.location),query:D(e).query}},ge)(be)),ve=(n(71),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center italic mt-5 mb-5 logo"},r.a.createElement(pe.a,{to:"/",className:"text-dark"},"GiphyGram")),r.a.createElement("div",{className:"mb-3"},r.a.createElement(Oe,null)))}}]),t}(r.a.Component)),ye=Object(b.a)(ve),Ee=(O.a.shape({dispatch:O.a.func.isRequired,getState:O.a.func.isRequired,subscribe:O.a.func.isRequired,replaceReducer:O.a.func.isRequired}),n(72),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).mediaQueries={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.onMediaQueryChange,a=t.onMediaQueryInit,r=null;Object.values(S).forEach(function(t){e.mediaQueries[t.id]=window.matchMedia(t.mediaQuery),e.mediaQueries[t.id].matches&&(r=t),e.mediaQueries[t.id].addListener(function(e,t){return function(n){n.matches&&t(e.id)}}(t,n))}),a(r.id)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},e)))}}]),t}(r.a.Component));Ee.defaultProps={onMediaQueryChange:function(){},onMediaQueryInit:function(){}};var je=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onMediaQueryChange=function(e){(0,n.props.layoutResize)(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Ee,{onMediaQueryChange:this.onMediaQueryChange,onMediaQueryInit:this.onMediaQueryChange},e)}}]),t}(r.a.Component),_e={layoutResize:function(e){return{type:J.RESIZE,payload:e}}},Se=Object(d.b)(null,_e)(je),Ce=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.store;return r.a.createElement(d.a,{store:e},r.a.createElement(h.a,{basename:T},r.a.createElement(Se,null,r.a.createElement(ye,null),r.a.createElement(de,null))))}}]),t}(r.a.Component),Re=n(14),we=n(38),Ne=Object(Re.c)({searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=t.payload&&t.payload.data||null;switch(t.type){case B.SEARCH_RESET:return Object(A.a)({},G);case"".concat(B.SEARCH,"_").concat(Y.a.Pending):return Object(A.a)({},e,{isLoading:!0,isFetchingMore:!1,error:null});case"".concat(B.SEARCH_MORE,"_").concat(Y.a.Pending):return Object(A.a)({},e,{isLoading:!1,isFetchingMore:!0,error:null});case"".concat(B.SEARCH,"_").concat(Y.a.Fulfilled):return Object(A.a)({},e,{data:n.data,pagination:n.pagination,meta:n.meta,isLoading:!1,isFetchingMore:!1,error:null});case"".concat(B.SEARCH_MORE,"_").concat(Y.a.Fulfilled):return Object(A.a)({},e,{data:Object(_.a)(e.data).concat(n.data),pagination:n.pagination,meta:n.meta,isLoading:!1,isFetchingMore:!1,error:null});case"".concat(B.SEARCH,"_").concat(Y.a.Rejected):return Object(A.a)({},G,{isLoading:!1,isFetchingMore:!1,error:!0});case"".concat(B.SEARCH_MORE,"_").concat(Y.a.Rejected):return Object(A.a)({},e,{isLoading:!1,isFetchingMore:!1,error:!0});default:return e}},searchParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.SEARCH_RESET:return Object(A.a)({},q);case I.UPDATE_SEARCH_QUERY:return Object(A.a)({},e,{query:t.payload});case I.UPDATE_SEARCH_OFFSET:return Object(A.a)({},e,{offset:t.payload});default:return e}},layout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.RESIZE:return Object(A.a)({},e,{size:t.payload});case J.SET_COLUMNS_NUM:return Object(A.a)({},e,{manualColumnsNum:t.payload});default:return e}}}),Ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Re.d,Me=Object(Re.a)(Y.b,we.a),ke=Object(Re.e)(Ne,Ae(Me)),Pe=document.getElementById("root");c.a.render(r.a.createElement(Ce,{store:ke}),Pe)}},[[39,1,2]]]);
//# sourceMappingURL=main.e3cfe170.chunk.js.map