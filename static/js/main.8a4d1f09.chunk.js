(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,n){e.exports=n(79)},50:function(e,t,n){},51:function(e,t,n){},70:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(36),c=n.n(i),o=n(2),u=n(3),s=n(5),l=n(4),m=n(6),h=n(18),d=n(10),p=n(17),f=n(1),b=n.n(f),g=b.a.shape({url:b.a.string,width:b.a.string,height:b.a.string,size:b.a.string,mp4:b.a.string,mp4_size:b.a.string,webp:b.a.string,webp_size:b.a.string}),O=b.a.shape({fixed_height_still:g,original_still:g,fixed_width:g,fixed_height_small_still:g,fixed_height_downsampled:g,preview:g,fixed_height_small:g,downsized_still:g,downsized:g,downsized_large:g,fixed_width_small_still:g,preview_webp:g,fixed_width_still:g,fixed_width_small:g,downsized_small:g,fixed_width_downsampled:g,downsized_medium:g,original:g,fixed_height:g,looping:g,original_mp4:g,preview_gif:g}),v=(b.a.shape({title:b.a.string,_score:b.a.number,type:b.a.string,id:b.a.string,slug:b.a.string,url:b.a.string,bitly_gif_url:b.a.string,bitly_url:b.a.string,embed_url:b.a.string,username:b.a.string,source:b.a.string,rating:b.a.string,content_url:b.a.string,source_tld:b.a.string,source_post_url:b.a.string,is_sticker:b.a.number,import_datetime:b.a.string,trending_datetime:b.a.string,images:O}),n(50),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.item;return r.a.createElement("div",{className:"w-100 mb-3 search-item"},r.a.createElement("a",{href:e.url},r.a.createElement("img",{className:"w-100",border:"0",src:e.images.fixed_width.url,alt:e.title,title:e.title})))}}]),t}(r.a.Component)),y=(n(51),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"spinner-container text-center"},r.a.createElement("div",{className:"spinner"}))}}]),t}(r.a.Component)),E=n(22),j={xl:{id:"xl",mediaQuery:"(min-width: 1200px)"},lg:{id:"lg",mediaQuery:"(max-width: 1200px) and (min-width: 960px)"},md:{id:"md",mediaQuery:"(max-width: 950px) and (min-width: 720px)"},sm:{id:"sm",mediaQuery:"(max-width: 720px) and (min-width: 540px)"},xs:{id:"xs",mediaQuery:"(max-width: 540px)"}},_=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"screenSizeToColumns",value:function(e){switch(e){case j.xs.id:return 1;case j.sm.id:case j.md.id:return 3;case j.lg.id:case j.xl.id:return 4;default:return 3}}},{key:"choseColumnsNum",value:function(e,t){return t||e}}]),e}(),S=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.columnsNum,a=e.renderItem,i=new Array(n).fill(0),c=new Array(n).fill(null).map(function(){return[]});t.forEach(function(e){var t=i.indexOf(Math.min.apply(Math,Object(E.a)(i)));i[t]+=e.height,c[t].push(e.content)});var o=c.map(function(e,t){var i="col-".concat(12/n),c=e.map(function(e,t){return a(e,t)});return r.a.createElement("div",{className:i,key:t},c)});return r.a.createElement("div",{className:"row"},o)}}]),t}(r.a.Component);S.defaultProps={items:[]};var C=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).renderSearchItem=function(e){return r.a.createElement(v,{item:e,key:e.id})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.searchItems,n=e.isLoading,a=e.columnsNum;if(n)return r.a.createElement(y,null);var i=t.map(function(e){return{height:parseInt(e.images.fixed_width.height,10),content:e}});return r.a.createElement("div",{className:"mb-3"},r.a.createElement(S,{items:i,renderItem:this.renderSearchItem,columnsNum:a}))}}]),t}(r.a.Component);C.defaultProps={searchItems:[],isLoading:!1,columnsNum:3};var R=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onScroll=function(){var e=n.props,t=e.activationDistance,a=e.onFetchMore,r=document.body.offsetHeight;window.innerHeight+window.scrollY+t>=r&&a()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",null,e)}}]),t}(r.a.Component);R.defaultProps={onFetchMore:function(){},activationDistance:50};var w=n(8),N=n(38),A=n.n(N),M=Object(w.a)({},Object({NODE_ENV:"production",PUBLIC_URL:"/giphygram",REACT_APP_BASE_URL:"/giphygram",REACT_APP_GIPHY_API_KEY:"CdRKiCMbTnt9CkZTZ0lGukSczk6iT4Z6",REACT_APP_GIPHY_API_HOST:"https://api.giphy.com"})),k=M.REACT_APP_BASE_URL,P=M.REACT_APP_GIPHY_API_KEY,T=M.REACT_APP_GIPHY_API_HOST,x=M.HTTP_REQUEST_TIMEOUT,H=30,Q=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A.a.get(e,Object(w.a)({},this.getDefaultAxiosConfig(),{params:t}))}},{key:"getDefaultAxiosConfig",value:function(){return{timeout:x}}}]),e}(),U={UPDATE_SEARCH_QUERY:"UPDATE_SEARCH_QUERY",UPDATE_SEARCH_OFFSET:"UPDATE_SEARCH_OFFSET"};function L(e){return{type:U.UPDATE_SEARCH_QUERY,payload:e}}var I={query:"",limit:H,offset:0,rating:"G",lang:"en"},F=function(e){return e.searchParams},q=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=void 0===t?I.query:t,a=e.limit,r=void 0===a?I.limit:a,i=e.offset,c=void 0===i?I.offset:i,o=e.rating,u=void 0===o?I.rating:o,s=e.lang,l={api_key:P,q:n,limit:r,offset:c,rating:u,lang:void 0===s?I.lang:s};return Q.get("".concat(T,"/v1/gifs/search"),l)}}]),e}(),D=n(15),z={data:[],pagination:{},meta:{},isLoading:!1,isFetchingMore:!1,error:null},Y=function(e){return e.searchResults},G={SEARCH:"SEARCH",SEARCH_MORE:"SEARCH_MORE",SEARCH_RESET:"SEARCH_RESET"};function Z(e){return{type:G.SEARCH,payload:q.search(e)}}var B={RESIZE:"RESIZE",SET_COLUMNS_NUM:"SET_COLUMNS_NUM"};var K={size:null,manualColumnsNum:null},J=function(e){return e.layout},V=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onFetchMore=function(){var e=n.props,t=e.isFetchingMore,a=e.isLoading,r=e.searchMore;t||a||r()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.searchItems,n=e.isLoading,a=e.isFetchingMore,i=e.columnsNum,c=a?r.a.createElement(y,null):null;return r.a.createElement(R,{onFetchMore:this.onFetchMore},r.a.createElement(C,{searchItems:t,isLoading:n,columnsNum:i}),c)}}]),t}(r.a.Component);V.defaultProps={searchItems:[],isLoading:!1,isFetchingMore:!1,columnsNum:3};var X={searchMore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return function(t,n){var a=n(),r=Y(a),i=r.pagination,c=void 0===i?{}:i,o=r.isFetchingMore,u=r.isLoading,s=c.total_count||0;if(o||u)return null;var l=F(a),m=l.offset+e;return l.offset=m,m>=s?null:(t(function(e){return{type:U.UPDATE_SEARCH_OFFSET,payload:e}}(m)),t({type:G.SEARCH_MORE,payload:q.search(l)}),null)}}},W=Object(d.b)(function(e){var t=Y(e),n=J(e),a=_.screenSizeToColumns(n.size),r=_.choseColumnsNum(a,n.manualColumnsNum);return{searchItems:t.data||[],isLoading:t.isLoading||!1,isFetchingMore:t.isFetchingMore||!1,columnsNum:r}},X)(V),$=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.total;return null===e?null:r.a.createElement("div",{className:"mb-3"},r.a.createElement("small",null,"Total results: \xa0",r.a.createElement("span",{className:"badge badge-dark"},e)))}}]),t}(r.a.Component);$.defaultProps={total:null};var ee=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.total;return r.a.createElement($,{total:e})}}]),t}(r.a.Component);ee.defaultProps={total:null};var te=Object(d.b)(function(e){var t=Y(e),n=null;return!1===t.isLoading&&t.pagination&&Object.prototype.hasOwnProperty.call(t.pagination,"total_count")&&(n=t.pagination.total_count),{total:n}})(ee),ne=(n(70),[{columns:1,title:"Show in 1 column",icon:"oi oi-list"},{columns:3,title:"Show in 3 columns",icon:"oi oi-grid-three-up"},{columns:4,title:"Show in 4 columns",icon:"oi oi-grid-four-up"}]),ae=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onButtonClick=function(e){(0,n.props.onColumnsNumChange)(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.columnsNum,n=ne.map(function(n){var a=n.columns===t?"btn btn-dark tab-selector-button":"btn btn-light tab-selector-button";return r.a.createElement("button",{key:"button_".concat(n.columns),type:"button",className:a,onClick:function(){return e.onButtonClick(n.columns)},title:n.title},r.a.createElement("span",{className:n.icon}))});return r.a.createElement("div",{className:"btn-group btn-group-sm mb-3"},n)}}]),t}(r.a.Component),re=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onColumnsNumChange=function(e){(0,n.props.setColumnsNum)(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.columnsNum,n=e.isHidden;return!t||n?null:r.a.createElement(ae,{columnsNum:t,onColumnsNumChange:this.onColumnsNumChange})}}]),t}(r.a.Component);re.defaultProps={columnsNum:3};var ie={setColumnsNum:function(e){return{type:B.SET_COLUMNS_NUM,payload:e}}},ce=Object(d.b)(function(e){var t=J(e),n=Y(e),a=_.screenSizeToColumns(t.size),r=_.choseColumnsNum(a,t.manualColumnsNum),i=!0;return!1===n.isLoading&&n.pagination&&Object.prototype.hasOwnProperty.call(n.pagination,"total_count")&&n.pagination.total_count&&(i=!1),{columnsNum:r,isHidden:i}},ie)(re),oe=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement(te,null)),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement(ce,null))),r.a.createElement(W,null))}}]),t}(r.a.Component),ue=function(){function e(t,n){Object(o.a)(this,e),this.history=t,this.location=n}return Object(u.a)(e,[{key:"pushSearchQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.history.push({search:e?"?".concat("query","=").concat(e):""})}},{key:"getSearchQuery",value:function(){return new URLSearchParams(this.location.search).get("query")}}]),e}(),se=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.routerService,n=e.updateSearchQuery,a=e.search,r=t.getSearchQuery();r&&(n(r),a({query:r}))}},{key:"render",value:function(){return r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",component:oe}))}}]),t}(r.a.Component),le={updateSearchQuery:L,search:Z},me=Object(p.e)(Object(d.b)(function(e,t){return{routerService:new ue(t.history,t.location)}},le)(se)),he=(n(76),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onQueryChange=function(e){(0,n.props.onSearchUpdate)(e.target.value)},n.onSearchSubmit=function(e){e.preventDefault();var t=n.props,a=t.onSearchSubmit,r=t.query;r&&a(r)},n.onSearchReset=function(e){e.preventDefault(),(0,n.props.onSearchReset)()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.query,t=e&&e.length?r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-light search-reset",type:"button",onClick:this.onSearchReset,title:"Reset search"},r.a.createElement("span",{className:"oi oi-x"}))):null;return r.a.createElement("form",{className:"form",onSubmit:this.onSearchSubmit},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{className:"form-control search-input",type:"search",placeholder:"Search for GIFs",value:e,onChange:this.onQueryChange,spellCheck:!1,autoCapitalize:"off",autoComplete:"off",maxLength:512}),t,r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-dark search-submit",type:"submit",onClick:this.onSearchSubmit,title:"Search"},r.a.createElement("span",{className:"oi oi-magnifying-glass"})))))}}]),t}(r.a.Component));he.defaultProps={query:"",onSearchSubmit:function(){},onSearchUpdate:function(){},onSearchReset:function(){}};var de=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onSearchSubmit=function(e){var t=n.props,a=t.search,r=t.routerService;a({query:e}),r.pushSearchQuery(e)},n.onSearchUpdate=function(e){(0,n.props.updateSearchQuery)(e)},n.onSearchReset=function(){var e=n.props,t=e.searchReset,a=e.routerService;t(),a.pushSearchQuery()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.query;return r.a.createElement(he,{query:e,onSearchSubmit:this.onSearchSubmit,onSearchUpdate:this.onSearchUpdate,onSearchReset:this.onSearchReset})}}]),t}(r.a.Component);de.defaultProps={query:""};var pe={search:Z,searchReset:function(){return{type:G.SEARCH_RESET,payload:null}},updateSearchQuery:L},fe=Object(p.e)(Object(d.b)(function(e,t){return{routerService:new ue(t.history,t.location),query:F(e).query}},pe)(de)),be=(n(77),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center italic mt-5 mb-5 logo"},r.a.createElement(h.b,{to:"/",className:"text-dark"},"GiphyGram")),r.a.createElement("div",{className:"mb-3"},r.a.createElement(fe,null)))}}]),t}(r.a.Component)),ge=Object(p.e)(be),Oe=(b.a.shape({dispatch:b.a.func.isRequired,getState:b.a.func.isRequired,subscribe:b.a.func.isRequired,replaceReducer:b.a.func.isRequired}),n(78),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).mediaQueries={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.onMediaQueryChange,a=t.onMediaQueryInit,r=null;Object.values(j).forEach(function(t){e.mediaQueries[t.id]=window.matchMedia(t.mediaQuery),e.mediaQueries[t.id].matches&&(r=t),e.mediaQueries[t.id].addListener(function(e,t){return function(n){n.matches&&t(e.id)}}(t,n))}),a(r.id)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},e)))}}]),t}(r.a.Component));Oe.defaultProps={onMediaQueryChange:function(){},onMediaQueryInit:function(){}};var ve=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onMediaQueryChange=function(e){(0,n.props.layoutResize)(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Oe,{onMediaQueryChange:this.onMediaQueryChange,onMediaQueryInit:this.onMediaQueryChange},e)}}]),t}(r.a.Component),ye={layoutResize:function(e){return{type:B.RESIZE,payload:e}}},Ee=Object(d.b)(null,ye)(ve),je=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.store;return r.a.createElement(d.a,{store:e},r.a.createElement(h.a,{basename:k},r.a.createElement(Ee,null,r.a.createElement(ge,null),r.a.createElement(me,null))))}}]),t}(r.a.Component),_e=n(16),Se=n(40),Ce=Object(_e.c)({searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,n=t.payload&&t.payload.data||null;switch(t.type){case G.SEARCH_RESET:return Object(w.a)({},z);case"".concat(G.SEARCH,"_").concat(D.a.Pending):return Object(w.a)({},e,{isLoading:!0,isFetchingMore:!1,error:null});case"".concat(G.SEARCH_MORE,"_").concat(D.a.Pending):return Object(w.a)({},e,{isLoading:!1,isFetchingMore:!0,error:null});case"".concat(G.SEARCH,"_").concat(D.a.Fulfilled):return Object(w.a)({},e,{data:n.data,pagination:n.pagination,meta:n.meta,isLoading:!1,isFetchingMore:!1,error:null});case"".concat(G.SEARCH_MORE,"_").concat(D.a.Fulfilled):return Object(w.a)({},e,{data:Object(E.a)(e.data).concat(n.data),pagination:n.pagination,meta:n.meta,isLoading:!1,isFetchingMore:!1,error:null});case"".concat(G.SEARCH,"_").concat(D.a.Rejected):return Object(w.a)({},z,{isLoading:!1,isFetchingMore:!1,error:!0});case"".concat(G.SEARCH_MORE,"_").concat(D.a.Rejected):return Object(w.a)({},e,{isLoading:!1,isFetchingMore:!1,error:!0});default:return e}},searchParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.SEARCH_RESET:return Object(w.a)({},I);case U.UPDATE_SEARCH_QUERY:return Object(w.a)({},e,{query:t.payload});case U.UPDATE_SEARCH_OFFSET:return Object(w.a)({},e,{offset:t.payload});default:return e}},layout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.RESIZE:return Object(w.a)({},e,{size:t.payload});case B.SET_COLUMNS_NUM:return Object(w.a)({},e,{manualColumnsNum:t.payload});default:return e}}}),Re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_e.d,we=Object(_e.a)(D.b,Se.a),Ne=Object(_e.e)(Ce,Re(we)),Ae=document.getElementById("root");c.a.render(r.a.createElement(je,{store:Ne}),Ae)}},[[41,1,2]]]);
//# sourceMappingURL=main.8a4d1f09.chunk.js.map